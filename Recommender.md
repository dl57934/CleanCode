# CleanCode
클린코드를 읽고 어떻게 하면 코드를 더 이쁘고 깔끔하고 유지보수하기 쉽게 짤 수 있을까 고민하는 폴더이면서 읽은 것을 간단하게 정리하는 폴더


### Recommener

1. 사소함이 중요하다. 

사소한 것이 모여서 큰 것을 만들 수 있는 것이다. (코딩을 하면서 사소하게 여겼던 모든 것들을 중요하게 생각하자.)<br/>
작은 것에도 충실한 사람이 큰 것에도 충실할 수 있다. 

2. 5S

  - 정리 또는 조직 <br/>
   적절한 명명법 등과같은 방법을 사용해 무엇이 어디에 있는지 알아야한다. 
   
  - 정돈 또는 단정함 <br/>
   물건마다 모두 제자리가 있다. 코드는 누구나 예상하는 위치에 있어야한다. 
   
  - 청소 또는 정리 <br/>
    작업 공간에서 배선이나 기름이나 부스러기나 쓰레기는 치운다. 
    (과거 이력이나 미래 바람을 기억한 주석 혹은 주석으로 처리한 코드는 지우길 바란다.)
  
  - 청결 또는 표준화 <br/>
    작업 공간을 청소하는 방식에 그룹이 동의한다. 
    그룹내에서 일관적인 구현 스타일과 기법의 필요성을 책에서는 뭐라고 말할까?
    
  - 생활화 또는 규율 <br/>
    관례를 따르고 자기 작품을 자주 돌아보고 기꺼이 변경하는 규율
    
3. 읽기 좋은 코드가 돌아가는 코드만큼 중요하다. 



### 1. 깨끗한 코드란? 

1. 나쁜 코드의 경험

어느 한 회사의 예를 들어 80년대에 인기있는 앱을 출시한 회사가 있었다. 그 회사의 앱은 인기가 많았지만 업데이트 기간이 길어지기 시작했다. 이전의 버그가 새 버전에도 남아있고 프로그램 시동 시간이 길이지고 갑자기 다운되기도 했다. 결국 망했다고 한다. 

결론적으로 말하자면 나쁜 코드때문이라고 한다. 출시일은 다가오는데 개발은 덜 됐고 기능을 추가하다 보니 감당이 불가능한 수준에 이르렀다고 한다. 

나쁜 코드는 한 회사를 망하게 만들 수 있다고 생각하게 되었다. 

나또한 많은 잘못된 코드들을 만들어본적이 있다. 급해서 시간이 부족해서 지겨워서 등등이 있었다. 하지만 이러한 코드들은 결국에 나한테 다 돌아오게 되어있다. 유지보수할때 새로운 기능을 추가하려고 할때 등등 처음부터 잘짜고 잘못된 점이 생각났을 때 고치자 다음은 없다는 마음을 갖게된 계기가 되었다. 

그러므로 오히려 코드를 깨끗하고 깔끔하게 작성하려는 노력이 비용과 시간을 절감하는 방법일 것이다. 

2. 좋은 코드란

각종 전문가들이 한말들을 정리한다.

#### c++ 제작자(비야네 스트롭스트룹)

1. 깨끗한 코드는 '보기에 즐거운' 코드다. 
2. 나쁜 코드는 나쁜코드를 유혹한다. 
3. 오류처리(메모리 누수, 경쟁 상태)등 세세한 사항까지 꼼꼼하게 처리하는 코드다. 
4. 깨끗한 코드는 한가지를 잘하는 코드. 

#### 그래디 부치

1. 단순하고 직접적인 코드
2. 가독성( 잘쓴 문장처럼 잘읽힌다.)
3. 추측이 아닌 사실에 기반해야한다. 

#### 데이브 토마스(이클립스 전략의 대부)

1. 작성자가 아닌 코드도 읽기 쉽고 고치기 쉽다. 
2. 깨끗한 코드에는 의미있는 이름이 붙는다. 
3. 의존성은 최소이며 각 의존성을 명확히 정의한다. 
4. 테스트 케이스에 모두 잘 돌아가야한다. 

#### 마이클 페더스

1. 깨끗한 코드는 언제나 주의깊게 짰다는 느낌을 준다. 
2. 주의 (시간을 들여 단정하게 정리한코드)
3. 꼼꼼하게 신경쓴 코드

#### 론 제프리스
대부분의 모든 언어로 서비스를 개발한 개발자

1. 모든 테스트에 통과(같은 작업을 여러차례 반복하면 안된다. 
2. 중복이 없다. 
3. 시스템 내 모든 설계 아이디어를 표현한다. 
4. 클래스 메소드, 함수 등을 최대한 줄인다. 
- 이름을 확정하기 전 여러번 생각해보기
- 객체가 여러기능을 수행한다면 여러객체로 나눈다. 
- 메소드가 여러기능을 수행한다면 메소드 추출을 통해서 여러개로 나눈다. 

#### 워드 커닝햄 (위키 제작자)

1. 짐작했던 기능을 각 루틴이 그대로 수행한다면 깨끗한 코드
2. 명백하고 단순한 코드
3. 언어가 문제에 적합하지 않는다고 말하는사람.
- 내주위에도 c++이 짱이야 java가 짱이야 python이 최고라고 말하는 사람들이 있다. 하지만 이분은 코드가 그문제를 풀기위한 언어처럼 보인다면 아름다운 코드라고 말한다.
- 프로그램을 단순하게 만드는 열쇠는 언어가 아니라 프로그래머다. 결국 언어보다는 사람이 중요하는 얘기다. 

새로운 코드를 작성하다보면 기존의 코드를 읽는 시간이 엄청나다. 그러므로 기존의 코드를 잘짜는 것이 새로운 코드를 작성할때 만큼 중요하다. 

### 2. 이름 정하기

#### 1. 의도가 분명하게 이름을 지어라 

좋은 이름을 지으려면 시간이 걸리지만 좋은 이름으로 절약하는 시간이 훨씬 많다. 이점을 생각하며 이번 파트의 내용을 적어본다.

변수, 함수, 클래스 이름은 다음과 같은 질문에 답해야한다. 존재 이유, 수행기능, 사용방법 따로 주석이 필요하다면 의도를 들어내지 못한 것이다. 

아래 예시를 보자

변수 
```
안좋은 예시
int d; //경과 시간(단위: 날짜)

좋은 예시
int elapsedTimeInDays;
int daysSinceCreation;
int daysSinceModification;
int fileAgeInDays;
```

메소드
```
public List<int[]> getThem(){
  List<int[]> list1 = new ArrayList<int[]>();
  for (int[] x:theList)
    if(x[0] == 4)
      list.add(x);
  return list1;    
}
지금 보면 복잡한 것 도 없는 단순한 형태의 메소드이다. 

하지만 이코드에는 단순함 보다는 함축성이 문제다.  
각 변수들이 무엇을 의미하며 4는 무슨 의미인지 결론적으로 이메소드는 무슨 역활을 하는지 알아보기 힘들다. 

위의 코드를 지뢰찾기 게임에 쓰인다고 생각하여 코드를 바꿔보겠다. 

public List<int[]> getFlaggedCells(){
  List<int[]> flaggedCells = new ArrayList<int[]>();
  for(int[] cell: gameBoard)
    if(cell[STATUS_VALUE] == FLAGGED)
      flaggedCells.add(cell);
    return flaggedCells;  
}
이 코드를 보면 들여쓰기 변수 수 돌아가는 로직은 같은데 상수와 변수의 이름을 바꾸어 남들이 봤을때 조금 더 명확한 코드가 되었습니다. 

public List<Cell[]> getFlaggedCells(){
  List<Cell> flaggedCelss = new ArrayList<Cell>();
  for(Cell cell: gameBoard)
    if(cell.isFlagged())
      flaggedCells.add(cell);
  return flaggedCells    
}
위의 코드는 단순히 이름만 바꾸어 줬는데 모든 기능이 확실시 되어 졌습니다.
```

#### 잘못된 정보를 피하라

널리 쓰이는 의미가 있는 단어를 다른 으미로 사용해도 안된다. hp,aix, sco는 변수이름으로 적합하지않다. 왜냐하면 이같은 이름은 유닉스와 유닉스 변종에서 사용하고 있는 이름이기 때문이다. 


서로 흡사한 읾은 사용하지 않도록 주의한다. (다른 모듈들 사이에서 비슷한 변수이름을 사용하지 않는다.)
유사한 개념은 유사한 표기법을 사용한다. 일관성이 떨어지는 표기법은 그릇된 정보이다. 

O, l만을 변수로 사용하지 말자 l은 1같이 보이고 O는 0같이 보이는 불상사가 발생할 수 있다. 

#### 의미 있게 구분하라 

동일한 범위에서 다른 두 개념에 같은 이름을 사용하지 못한다. 그래서 프로그래머가 한쪽이름을 바꾸고픈 유혹에 빠진다. 이름이 달라야 한다면 의미도 달라져야 한다. 
예를 들어 n1, n2, n3와 같은 방법은 외도적인 이름과 정반대이다. 이러한 이름에서는 아무런 정보도 제공받지 못한다. 이와 같이 불용어를 사용한 변수도 아무런 정보를 받지 못한다. 

Product라는 클래스가 있다고 가정해보자. ProductInfo나 ProductData는 개념을 구분하지 않은채 적어 놓은 것이다. Data와 Info는 a와 the와 같이 명확히 구분되지 않은 것이다. 그렇지만 접두어를 사용하지 말라는 뜻은 아니다. 뜻이 완전히 구분된다면 사용해도 되지만 단순히 hi라는 변수가 있다면 theHi라고 쓰지 말라는 것 이다. 

불용어는 중복이다. 변수 이름에 variable이라는 단어는 단연코 금물이다. 표이름에 table이라는 단어도 만차가지이다. NameString이 Name보다 뭐가 나은가? Customer와 CustomerObject는 어떠한 차이가 있는가? 고객 급여 이력을 찾으려면 getActiveAccount(), getActiveAccounts(), getActive AccountsInfo()의 차이점을 알겠는가? 직접 뒤져보지 않는 이상 알기 힘들것이다. 

결론적으로 말하고 싶은건 읽는 사람이 차이를 알도록 이름을 지어라.

#### 발은하기 쉬운 이름을 사용하라

아래 두 예제를 보자

```
class DtaRcrdd102{
  private Date genymdhms;
  private Date modymdhms;
  private final String pszqint = "102";
  }
  
  class Customer{
    private Date generationTimestamp;
    private Date modificationTimestamp;
    private final String recordId = "102";
  }
```
둘째 코드는 지적인 대화가 가능해진다. 1번째 코드와 같이 이상하게 줄이지 않고 발음이 쉬워지니 다름사람들이 이해하기 쉽고 대화가 가능해진다. 

#### 검색하기 쉬운 이름을 사용하라 

코딩을 할때 필요한 이름을 찾을 때가 있다 만약에 상수를 그냥 5라고 사용했다면 찾기 힘들 것이다 아래의 예제를 보자

``` 
int realDaysPerIdealDay = 4;
const int WORK_DAYS_PER_WEEK = 5;
for (int j=0; j < NUMBER_OF_TASKS; j++){
  int realTaskDays = taskEstimate[j] * realDaysPerIdealDay;
  int realTaskWeeks = (realTaskDays / WORK_DAYS_PER_WEEK);
  sum+=realTaskWeeks;
  }
  ```
 이 코드를 보면 단순히 5, 4라고 쓴것 보다 변수 이름을 붙여주니 찾기가 많이 쉬웠다. 

#### 인코딩을 피하라

굳이 부담을 더하지 않아도 이름에 인코딩할 정보는 많다. 유형이나 범위 정보까지 인코딩에 넣으면 해독하기 어려워 진다. 
그러므로 인코딩 언어까지 배우라는건 개발자에게 힘들어진다. 

1. 헝가리식 표기법 

80년대 당시 IDE가 많이 부족했기 때문에 이규칙이 엄청난 센세이션이 일으켰다. 이것은 마이크로 소프트에서 만들었는데 이제는 사실상 권하지 않고있다. 
이는 변수의 타입에 맞추어 접두어를 붙이는 것이다. 

byte, boolean면 b
int, short면 n 
long이면 l을 접두엉에 붙여서 사용하는 방식이다. 

당시에는 컴파일러가 타입을 점검하지 않았으므로 프로그래머에게 타입을 기억할 단서가 필요했다. 
하지만 요즘에는 컴파일러가 타입을 기억하고 강제한다. 그러므로 이제는 사용할 필요가 없는 방식이다. 

2. 인터페이스 클래스와 구현 클래스 

때로는 인코딩이 필요한 경우도 있다. 예를들어 도형을 생성하는 Abstract Factory를 구현한다고 가정하자. 이팩토리는 인터페이스 클래스이다. 구현은 구체 클래스에서한다.그렇다면 두 클래스 이름과 구현 클래스 이름 중 하나를 인코딩해야 한다면 구현 클래스 이름을 택하겠다. 

#### 자신의 기억력을 자랑하지 마라 

코드를 읽으면서 변수 이름을 자신이 아는 이름으로 변호나해야 한다면 그 변수 이름은 바람직하지 못하다. 









